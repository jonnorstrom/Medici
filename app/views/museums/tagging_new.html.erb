<%= form_for(@museum, :url => "tagging", :html => { :method => :post }) do |f| %>

   <p>Tags</p>
   <ul>
     <h3>Type of Museum</h3>
     <% @type_museum.each do |tag| %>
       <%= hidden_field_tag "museum_tag_ids_none", nil, {:name => "museum[tag_ids][]"}%>
       <% if @museum.tags.include?(tag) %>
          <li>
           <%= check_box_tag "museum_tag_ids_#{tag.id}", tag.id, true, {:name => "museum[tag_ids][]"} %>
           <%= label_tag "museum_tag_ids_#{tag.id}", tag.name %>
         </li>
       <% else %>
         <li>
           <%= check_box_tag "museum_tag_ids_#{tag.id}", tag.id, (f.object.taggings.present? && f.object.taggings.include?(tag.id)), {:name => "museum[tag_ids][]"} %>
           <%= label_tag "museum_tag_ids_#{tag.id}", tag.name %>
         </li>
       <% end %>
     <% end %>
   </ul>
   <ul>
     <h3>Type of Art</h3>
     <% @type_art.each do |tag| %>
       <%= hidden_field_tag "museum_tag_ids_none", nil, {:name => "museum[tag_ids][]"}%>
       <% if @museum.tags.include?(tag) %>
          <li>
           <%= check_box_tag "museum_tag_ids_#{tag.id}", tag.id, true, {:name => "museum[tag_ids][]"} %>
           <%= label_tag "museum_tag_ids_#{tag.id}", tag.name %>
         </li>
       <% else %>
         <li>
           <%= check_box_tag "museum_tag_ids_#{tag.id}", tag.id, (f.object.taggings.present? && f.object.taggings.include?(tag.id)), {:name => "museum[tag_ids][]"} %>
           <%= label_tag "museum_tag_ids_#{tag.id}", tag.name %>
         </li>
       <% end %>
     <% end %>
   </ul>

   <ul>
     <h3>Medium</h3>
     <% @medium.each do |tag| %>
       <%= hidden_field_tag "museum_tag_ids_none", nil, {:name => "museum[tag_ids][]"}%>
       <% if @museum.tags.include?(tag) %>
          <li>
           <%= check_box_tag "museum_tag_ids_#{tag.id}", tag.id, true, {:name => "museum[tag_ids][]"} %>
           <%= label_tag "museum_tag_ids_#{tag.id}", tag.name %>
         </li>
       <% else %>
         <li>
           <%= check_box_tag "museum_tag_ids_#{tag.id}", tag.id, (f.object.taggings.present? && f.object.taggings.include?(tag.id)), {:name => "museum[tag_ids][]"} %>
           <%= label_tag "museum_tag_ids_#{tag.id}", tag.name %>
         </li>
       <% end %>
     <% end %>
   </ul>

   <ul>
     <h3>Misc</h3>
     <% @misc.each do |tag| %>
       <%= hidden_field_tag "museum_tag_ids_none", nil, {:name => "museum[tag_ids][]"}%>
       <% if @museum.tags.include?(tag) %>
          <li>
           <%= check_box_tag "museum_tag_ids_#{tag.id}", tag.id, true, {:name => "museum[tag_ids][]"} %>
           <%= label_tag "museum_tag_ids_#{tag.id}", tag.name %>
         </li>
       <% else %>
         <li>
           <%= check_box_tag "museum_tag_ids_#{tag.id}", tag.id, (f.object.taggings.present? && f.object.taggings.include?(tag.id)), {:name => "museum[tag_ids][]"} %>
           <%= label_tag "museum_tag_ids_#{tag.id}", tag.name %>
         </li>
       <% end %>
     <% end %>
   </ul>

   <%= f.submit %>

<% end %>
